<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sdks/analytics-sdks/ios/ios-user-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">ユーザーガイド | Rakuten Analytics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="algolia-site-verification" content="BC995083B3CF2E30"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ユーザーガイド | Rakuten Analytics"><meta data-rh="true" name="description" content="iOS Analytics ユーザーガイド"><meta data-rh="true" property="og:description" content="iOS Analytics ユーザーガイド"><link data-rh="true" rel="icon" href="/rakuten-analytics-public-docs/ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide"><link data-rh="true" rel="alternate" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-user-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide" hreflang="ja"><link data-rh="true" rel="alternate" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-user-guide" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://56KYHD3I32-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Rakuten Analytics" href="/rakuten-analytics-public-docs/ja/opensearch.xml">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-81FVRG5RZZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-81FVRG5RZZ",{})</script><link rel="stylesheet" href="/rakuten-analytics-public-docs/ja/assets/css/styles.76b20772.css">
<script src="/rakuten-analytics-public-docs/ja/assets/js/runtime~main.7efc7a31.js" defer="defer"></script>
<script src="/rakuten-analytics-public-docs/ja/assets/js/main.2b578366.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rakuten-analytics-public-docs/ja/"><div class="navbar__logo"><img src="/rakuten-analytics-public-docs/ja/img/rakuten-analytics-logo.svg" alt="Rakuten Logo" class="themedComponent__dKv themedComponent--light_rzkv" height="25" width="175"><img src="/rakuten-analytics-public-docs/ja/img/rakuten-analytics-logo.svg" alt="Rakuten Logo" class="themedComponent__dKv themedComponent--dark_mMAk" height="25" width="175"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rakuten-analytics-public-docs/ja/docs/overview">製品</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>日本語</a><ul class="dropdown__menu"><li><a href="/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-user-guide" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rakuten-analytics-public-docs/ja/docs/overview">概要</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdks">Analytics SDKs</a><button aria-label="&#x27;Analytics SDKs&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdks/android">Android</a><button aria-label="&#x27;Android&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdks/ios">iOS</a><button aria-label="&#x27;iOS&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide">ユーザーガイド</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/category/advanced-usage-3">高度な使用方法</a><button aria-label="&#x27;高度な使用方法&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-faq">よくある質問</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-troubleshooting">トラブルシューティング</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-changelog">Changelog</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/rakuten-analytics-public-docs/ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdks"><span itemprop="name">Analytics SDKs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdks/ios"><span itemprop="name">iOS</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ユーザーガイド</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>ユーザーガイド</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ios-analytics-ユーザーガイド">iOS Analytics ユーザーガイド<a href="#ios-analytics-ユーザーガイド" class="hash-link" aria-label="iOS Analytics ユーザーガイド への直接リンク" title="iOS Analytics ユーザーガイド への直接リンク">​</a></h2>
<p><strong>analytics</strong> モジュールはイベントを追跡するためのAPIを提供し、ライフサイクルイベントの一部を自動的にRakuten Analytics Tracker (RAT) サービスに送信します。</p>
<p>詳細については、<a href="/rakuten-analytics-public-docs/ja/docs/category/advanced-usage-1">高度な使用法</a>をご参照ください。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="必要条件">必要条件<a href="#必要条件" class="hash-link" aria-label="必要条件 への直接リンク" title="必要条件 への直接リンク">​</a></h2>
<p>このモジュールはiOS 12.0以降をサポートしています。iOS 12.5以降でテストされています。サポートされる最小バージョンは、OSバージョンの使用状況に基づいて毎年更新されます。</p>
<p>Xcode &gt;= 14.1 がサポートされています。<br>
<!-- -->Swift &gt;= 5.7.1 がサ  ポートされています。</p>
<p>注意: SDKは以前のXcodeバージョンでビルドできる場合がありますが、公式にはサポートまたはテストされていません。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="インストール方法">インストール方法<a href="#インストール方法" class="hash-link" aria-label="インストール方法 への直接リンク" title="インストール方法 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cocoapods">CocoaPods<a href="#cocoapods" class="hash-link" aria-label="CocoaPods への直接リンク" title="CocoaPods への直接リンク">​</a></h3>
<p>デフォルトの構成でモジュールを使用するには、<code>Podfile</code> に以下を含める必要があります:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;RakutenAnalytics&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>pod install</code> を実行してモジュールとその依存関係をインストールします。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swift-package-manager">Swift Package Manager<a href="#swift-package-manager" class="hash-link" aria-label="Swift Package Manager への直接リンク" title="Swift Package Manager への直接リンク">​</a></h3>
<p>Xcodeのプロジェクト設定を開き、「Swift Packages」タブで新しいパッケージを追加します:</p>
<ul>
<li>リポジトリURL: <code>https://github.com/rakutenanalytics/ios-rakutenanalytics.git</code></li>
<li>バージョン設定: 10.5.0 &quot;Up to Next Major&quot;</li>
</ul>
<p>ターゲットに <code>RakutenAnalytics</code> 製品を選択します。他のターゲット（Notification Service Extension、Notification Content Extensionなど）にリンクしたい場合は、そのターゲットの Build Phases に移動し、Link Binary With Libraries で + ボタンをクリックして <code>RakutenAnalytics</code> を追加します。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="アプリでモジュールをインポートする">アプリでモジュールをインポートする<a href="#アプリでモジュールをインポートする" class="hash-link" aria-label="アプリでモジュールをインポートする への直接リンク" title="アプリでモジュールをインポートする への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="swift">Swift<a href="#swift" class="hash-link" aria-label="Swift への直接リンク" title="Swift への直接リンク">​</a></h4>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token class-name">RakutenAnalytics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="objective-c">Objective-C<a href="#objective-c" class="hash-link" aria-label="Objective-C への直接リンク" title="Objective-C への直接リンク">​</a></h4>
<div class="language-objective-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objective-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@import RakutenAnalytics;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ranalytics-から-rakutenanalytics- への移行">RAnalytics から RakutenAnalytics への移行<a href="#ranalytics-から-rakutenanalytics-への移行" class="hash-link" aria-label="RAnalytics から RakutenAnalytics への移行 への直接リンク" title="RAnalytics から RakutenAnalytics への移行 への直接リンク">​</a></h3>
<p>現在、<code>RAnalytics</code> と <code>RakutenAnalytics</code> の間に大きなAPIの変更や違いはありません。移行プロセスは、依存関係の再インストールとインポートの更新に関連しています。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cocoapods-1">CocoaPods<a href="#cocoapods-1" class="hash-link" aria-label="CocoaPods への直接リンク" title="CocoaPods への直接リンク">​</a></h4>
<p>CocoaPodsを使用して <code>RAnalytics</code> から <code>RakutenAnalytics</code> に移行するには、<code>Podfile</code> の依存関係を以下のように変更してください:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;RAnalytics&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>を:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;RakutenAnalytics&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>に変更し、<code>pod install</code> コマンドを実行して依存関係をインストールします。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="swift-package-manager-1">Swift Package Manager<a href="#swift-package-manager-1" class="hash-link" aria-label="Swift Package Manager への直接リンク" title="Swift Package Manager への直接リンク">​</a></h4>
<p>Swift Package Managerを使用して <code>RAnalytics</code> から <code>RakutenAnalytics</code> に移行するには、Xcodeのプロジェクト設定を開き、Xcodeプロジェクトから <code>RAnalytics</code> 依存関係を削除します。その後、以下のパッケージURLを使用してください:</p>
<p><code>https://github.com/rakutenanalytics/ios-rakutenanalytics.git</code></p>
<p>以前のURL:</p>
<p><code>ssh://git@gitpub.rakuten-it.com:7999/eco/core-ios-analytics.git</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="  モジュールインポート">モジュールインポート<a href="#モジュールインポート" class="hash-link" aria-label="モジュールインポート への直接リンク" title="モジュールインポート への直接リンク">​</a></h4>
<p><code>RakutenAnalytics</code> をインストールした後、プロジェクト内のモジュールインポートを以下のように更新してください:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token class-name">RAnalytics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>を:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token class-name">RakutenAnalytics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>に変更します。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="設定">設定<a href="#設定" class="hash-link" aria-label="設定 への直接リンク" title="設定 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="認証情報">認証情報<a href="#認証情報" class="hash-link" aria-label="認証情報 への直接リンク" title="認証情報 への直接リンク">​</a></h3>
<p>Rakuten Analytics Trackerを使用してイベントを追跡するには、RATアカウントIDとアプリケーションIDが必要です。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ビルド時の設定">ビルド時の設定<a href="#ビルド時の設定" class="hash-link" aria-label="ビルド時の設定 への直接リンク" title="ビルド時の設定 への直接リンク">​</a></h3>
<p>アプリケーションは、<code>Info.plist</code> に以下のように <code>RATAccountIdentifier</code> を設定する必要があります:</p>
<table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td><code>RATAccountIdentifier</code></td><td><code>YOUR_RAT_ACCOUNT_ID</code> (Number型)</td></tr><tr><td><code>RATAppIdentifier</code></td><td><code>YOUR_RAT_APPLICATION_ID</code> (Number型)</td></tr></tbody></table>
<p><code>RATAppIdentifier</code> はオプションのキーです。指定されていない場合、デフォルト値は <code>1</code> に設定されます。</p>
<p>その他:</p>
<ul>
<li>アプリの <code>Info.plist</code> に <code>RATAccountIdentifier</code> キーがない場合、RakutenAnalytics SDK は <strong>DEBUGモード</strong> で <strong>例外をスロー</strong> します。</li>
<li>アプリの <code>Info.plist</code> に <code>RATAccountIdentifier</code> キーがない場合、RakutenAnalytics SDK のトラッキングは <strong>RELEASEモード</strong> で <strong>無効</strong> になります。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kibanaを使用して統合の成功を確認する">Kibanaを使用して統合の成功を確認する<a href="#kibanaを使用して統合の成功を確認する" class="hash-link" aria-label="Kibanaを使用して統合の成功を確認する への直接リンク" title="Kibanaを使用して統合の成功を確認する への直接リンク">​</a></h3>
<p>Kibana STGおよびPRODサイトを使用して、アプリが送信したイベントを確認できます。</p>
<p>アプリのすべての分析データを見つけるには、アプリケーション識別子 <code>aid:&lt;your app id&gt;</code> または <code>app_name:&lt;your bundle id&gt;</code> を検索します。</p>
<p>特定のイベントタイプ（<a href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide#standard-events">標準イベント</a>の1つなど）のデータを見つけるには、検索クエリに <code>etype</code> を追加します。例: <code>aid:999 AND etype:_rem_launch</code>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sdkの使用">SDKの使用<a href="#sdkの使用" class="hash-link" aria-label="SDKの使用 への直接リンク" title="SDKの使用 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ログインの処理">ログインの処理<a href="#ログインの処理" class="hash-link" aria-label="ログインの処理 への直接リンク" title="ログインの処理 への直接リンク">​</a></h3>
<p>ログインおよびログアウトイベントを正しいメンバー識別子で追跡するには、メンバー識別子を手動で設定および解除する必要があります。ほとんどの場合、メンバー識別子として設定する値はメンバーの識別子であるべきです。メンバー識別子はIDSDK IDトークンから抽出するか、<code>String</code> 値として渡すことができます。</p>
<p>ユーザーのメンバー識別子をRakutenAnalytics SDKに通知するには、<code>setMemberIdentifier</code> を使用します。</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMemberIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">%</span><span class="token plain">member_identifier</span><span class="token operator" style="color:#393A34">%</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>注意: メンバー識別子を設定することで、<code>_rem_login</code> が自動的に追跡されます。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ログイン失敗の処理">ログイン失敗の処理<a href="#ログイン失敗の処理" class="hash-link" aria-label="ログイン失敗の処理 への直接リンク" title="ログイン失敗の処理 への直接リンク">​</a></h3>
<p>ユーザーのログインが失敗した場合、<code>setMemberError</code> を使用してRakutenAnalytics SDKに通知します:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMemberError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>注意: メンバーエラーを設定することで、<code>_rem_login_failure</code> が自動的に追跡されます。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ログアウトの処理">ログアウトの処理<a href="#ログアウトの処理" class="hash-link" aria-label="ログアウトの処理 への直接リンク" title="ログアウトの処理 への直接リンク">​</a></h3>
<p>ユーザーがログアウトした場合、<code>removeMemberIdentifier</code> を使用してRakutenAnalytics SDKに通知します:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeMemberIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>注意: メンバー識別子を削除することで、<code>_rem_logout</code> が自動的に追跡されます。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="標準イベントの追跡">標準イベントの追跡<a href="#標準イベントの追跡" class="hash-link" aria-label="標準イベントの追跡 への直接リンク" title="標準イベントの追跡 への直接リンク">​</a></h3>
<p>イベントは <code>RAnalyticsEvent#initWithName:parameters:</code> を使用して作成され、トラックメソッドを呼び出すことでスプールされます。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="一般的なイベントの追跡">一般的なイベントの追跡<a href="#一般的なイベントの追跡" class="hash-link" aria-label="一般的なイベントの追跡 への直接リンク" title="一般的なイベントの追跡 への直接リンク">​</a></h4>
<p>一般的なイベントの追跡は、現在登録されているイベントを処理できるトラッカーに依存します。</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">Event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;my.event&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">track</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rat固有のイベントの追跡">RAT固有のイベントの追跡<a href="#rat固有のイベントの追跡" class="hash-link" aria-label="RAT固有のイベントの追跡 への直接リンク" title="RAT固有のイベントの追跡 への直接リンク">​</a></h4>
<p>具体的なトラッカー <code>RAnalyticsRATTracker</code> が自動的に登録され、<strong>Rakuten Analytics Tracker (RAT)</strong> と連携します。<code>RAnalyticsRATTracker#eventWithEventType:parameters:</code> を使用して、RATによってのみ処理されるイベントを作成することもできます。</p>
<blockquote>
<p><strong>注意:</strong> SDKは、<code>acc</code>、<code>aid</code>、<code>etype</code>、<code>powerstatus</code>、<code>mbat</code>、<code>dln</code>、<code>loc</code>、<code>mcn</code>、<code>model</code>、<code>mnetw</code>、<code>mori</code>、<code>mos</code>、<code>online</code>、<code>cka</code>、<code>ckp</code>、<code>cks</code>、<code>ua</code>、<code>app_name</code>、<code>app_ver</code>、<code>res</code>、<code>ltm</code>、<code>ts1</code>、<code>tzo</code>、<code>userid</code>、<code>ver</code> などの多くのRATパラメータを自動的に追跡します。</p>
</blockquote>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">RAnalyticsRATTracker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">eventType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;pgn&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;coupon page&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">track</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p><code>acc</code> と <code>aid</code> のデフォルト値を上書きするには、イベント作成時に <code>parameters</code> 辞書にこれらのキーを含める必要があります。</p>
</blockquote>
<blockquote>
<p><strong>注意:</strong> <code>acc</code> と <code>aid</code> は <strong>整数</strong> でなければなりません。</p>
</blockquote>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">RAnalyticsRATTracker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">eventType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;acc&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;aid&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">456</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">track</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="標準イベント">標準イベント<a href="#標準イベント" class="hash-link" aria-label="標準イベント への直接リンク" title="標準イベント への直接リンク">​</a></h3>
<p>SDKは、特定のアクションに対してRakuten Analytics Trackerにイベントを自動的に送信します。これらのイベントのイベントタイプパラメータはすべて <code>_rem_</code> で始まります。すべてのイベントに対して名前付き定数も提供しています。</p>
<table><thead><tr><th>イベント名</th><th>説明</th></tr></thead><tbody><tr><td><code>_rem_init_launch</code></td><td>アプリケーションが初めて起動されました。</td></tr><tr><td><code>_rem_launch</code></td><td>アプリケーションが起動されました。</td></tr><tr><td><code>_rem_end_session</code></td><td>アプリケーシ  ョンがバックグラウンドに移行しました。</td></tr><tr><td><code>_rem_update</code></td><td>アプリケーションが起動され、そのバージョン番号が前回の起動時のバージョン番号と一致しません。</td></tr><tr><td><code>_rem_login</code></td><td>ユーザーが正常にログインしました。</td></tr><tr><td><code>_rem_logout</code></td><td>ユーザーがログアウトしました。</td></tr><tr><td><code>_rem_install</code></td><td>アプリケーションバージョンが初めて起動されました。</td></tr><tr><td><code>_rem_visit</code></td><td>新しいページが表示されました。アプリケーション開発者は、必要に応じてこのイベントを手動で発行することもできます。</td></tr><tr><td><code>_rem_applink</code></td><td>アプリケーションがディープリンクから開かれました。</td></tr><tr><td><code>_rem_push_received</code></td><td>アプリがバックグラウンドまたはフォアグラウンドにある間にプッシュ通知が受信されました。</td></tr><tr><td><code>_rem_push_notify</code></td><td>アプリがアクティブな間にプッシュ通知が開かれた場合、またはプッシュ通知からアプリが開かれた場合。</td></tr><tr><td><code>_rem_push_auto_register</code></td><td>PNP自動登録が発生しました。</td></tr><tr><td><code>_rem_push_auto_unregister</code></td><td>PNP自動登録解除が発生しました。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="必要条件-1">必要条件<a href="#必要条件-1" class="hash-link" aria-label="必要条件 への直接リンク" title="必要条件 への直接リンク">​</a></h4>
<p>以下の表は、<strong>analytics</strong> モジュールによって自動的に追跡される各標準イベントの必要なコンポーネントを示しています。</p>
<table><thead><tr><th>イベント名</th><th>必要なコンポーネント</th></tr></thead><tbody><tr><td><code>_rem_login</code></td><td><strong>authentication</strong> モジュール (3.10.1以降)。</td></tr><tr><td><code>_rem_logout</code></td><td><strong>authentication</strong> モジュール (3.10.1以降)。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="自動生成される状態属性">自動生成される状態属性<a href="#自動生成される状態属性" class="hash-link" aria-label="自動生成される状態属性 への直接リンク" title="自動生成される状態属性 への直接リンク">​</a></h4>
<p>SDKはデバイスの状態に関する特定の属性を自動的に生成し、イベントを処理するように要求されたときにすべての登録済みトラッカーに渡します。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ios拡張機能でのイベント追跡">iOS拡張機能でのイベント追跡<a href="#ios拡張機能でのイベント追跡" class="hash-link" aria-label="iOS拡張機能でのイベント追跡 への直接リンク" title="iOS拡張機能でのイベント追跡 への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="警告">警告<a href="#警告" class="hash-link" aria-label="警告 への直接リンク" title="警告 への直接リンク">​</a></h4>
<p>iOS拡張機能でイベントを追跡するためにAnalyticsManagerシングルトンを直接呼び出さないでください。以下の問題が発生します:</p>
<ul>
<li>メンバー識別子などのパラメータが欠落する</li>
<li>不正確なエンドポイントURL</li>
</ul>
<p>iOS拡張機能イベント追跡機能を使用してください。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ios拡張機能イベント追跡機能の使用方法">iOS拡張機能イベント追跡機能の使用方法<a href="#ios拡張機能イベント追跡機能の使用方法" class="hash-link" aria-label="iOS拡張機能イベント追跡機能の使用方法 への直接リンク" title="iOS拡張機能イベント追跡機能の使用方法 への直接リンク">​</a></h4>
<p>iOS拡張機能イベント追跡を有効にするには、<strong>メインアプリ</strong> で以下のプロパティを設定します:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enableExtensionEventTracking </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>その後、以下の関数を使用してiOS拡張機能でイベントを追跡できます:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AnalyticsEventPoster</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;myEventName&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;key1&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="uikit-の-uiviewcontroller-でのイベント追跡"><code>UIKit</code> の <code>UIViewController</code> でのイベント追跡<a href="#uikit-の-uiviewcontroller-でのイベント追跡" class="hash-link" aria-label="uikit-の-uiviewcontroller-でのイベント追跡 への直接リンク" title="uikit-の-uiviewcontroller-でのイベント追跡 への直接リンク">​</a></h3>
<p>ページ訪問イベント (etype = <code>pv</code>) は、<code>UIViewController</code> インスタンスに対して自動的に追跡されます。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="uiviewcontroller-の制限"><code>UIViewController</code> の制限<a href="#uiviewcontroller-の制限" class="hash-link" aria-label="uiviewcontroller-の制限 への直接リンク" title="uiviewcontroller-の制限 への直接リンク">​</a></h4>
<p>以下の <code>UIViewController</code> サブクラスではページ訪問イベントは追跡されません:</p>
<ul>
<li><code>UINavigationController</code></li>
<li><code>UISplitViewController</code></li>
<li><code>UIPageViewController</code></li>
<li><code>UITabBarController</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="uiview-の制限"><code>UIView</code> の制限<a href="#uiview-の制限" class="hash-link" aria-label="uiview-の制限 への直接リンク" title="uiview-の制限 への直接リンク">​</a></h4>
<p><code>UIViewController</code> のビュータイプが以下の場合、ページ訪問イベントは追跡されません:</p>
<ul>
<li><code>UIAlertView</code></li>
<li><code>UIActionSheet</code></li>
<li><code>UIAlertController</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="その他の制限">その他の制限<a href="#その他の制限" class="hash-link" aria-label="その他の制限 への直接リンク" title="その他の制限 への直接リンク">​</a></h4>
<ul>
<li>Appleのプライベートクラスはページ訪問イ ベントとして追跡されません。</li>
<li><code>UIView</code> のウィンドウプロパティタイプは <code>UIWindow</code> クラスの一種でなければなりません。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swiftuiビューでのイベント追跡">SwiftUIビューでのイベント追跡<a href="#swiftuiビューでのイベント追跡" class="hash-link" aria-label="SwiftUIビューでのイベント追跡 への直接リンク" title="SwiftUIビューでのイベント追跡 への直接リンク">​</a></h3>
<p>SwiftUIアプリでページ訪問イベント (etype = <code>pv</code>) を追跡するには、SwiftUIビューのbodyで以下の関数を呼び出します:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">rviewOnAppear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> perform action</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token nil constant" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">some</span><span class="token plain"> </span><span class="token class-name">View</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>この関数は内部的にSwiftUIの <code>onAppear</code> を呼び出します。<br>
<a href="https://developer.apple.com/documentation/SwiftUI/AnyView/onAppear%28perform:%29" target="_blank" rel="noopener noreferrer">https://developer.apple.com/documentation/SwiftUI/AnyView/onAppear%28perform:%29</a></p>
<p>例:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">ContentView</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">View</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> body</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">some</span><span class="token plain"> </span><span class="token class-name">View</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">NavigationView</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">VStack</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">NavigationLink</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">PageView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token class-name">Text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&quot;Page 1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">NavigationLink</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">PageView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token class-name">Text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&quot;Page 2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">rviewOnAppear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;contentView&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="uiインタラクション">UIインタラクション<a href="#uiインタラクション" class="hash-link" aria-label="UIインタラクション への直接リンク" title="UIインタラクション への直接リンク">​</a></h3>
<p>以下のコードは、ボタンクリックを追跡するために使用できる例です。RATの標準 <code>click</code> イベントを使用し、ページ名、クリックされた要素のID、ゴールIDをそれぞれ <code>pgn</code>、<code>target</code>、<code>gol</code> パラメータに渡します。</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token attribute atrule" style="color:#00a4db">@IBAction</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">buttonTapped</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">UIButton</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">RAnalyticsRATTracker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">eventType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;click&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;pgn&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;Main&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    </span><span class="token string-literal string" style="color:#e3116c">&quot;target&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;search_btn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    </span><span class="token string-literal string" style="color:#e3116c">&quot;gol&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;goal123456&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">track</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="カスタムイベントの追跡">カスタムイベントの追跡<a href="#カスタムイベントの追跡" class="hash-link" aria-label="カスタムイベントの追跡 への直接リンク" title="カスタムイベントの追跡 への直接リンク">​</a></h3>
<p><strong>注意:</strong> これらの例は、RAT固有のパラメータを送信するために <code>RAnalyticsRATTracker</code> を使用しています。カスタムトラッカーを使用している場合は、<code>RAnalyticsEvent</code> を使用する必要があります。</p>
<p>以下は、カスタムパラメータを使用してイベントを追跡する例です。以前の例で使用された標準の <code>pv</code> RATイベントを使用し、RATがこの目的で受け入れる <code>cp</code> 辞書内にいくつかのカスタム <code>custom_param_##</code> パラメータを渡します。</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">RAnalyticsRATTracker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">eventType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;pv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;pgn&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;Main&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                </span><span class="token string-literal string" style="color:#e3116c">&quot;cp&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;custom_param_1&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       </span><span class="token string-literal string" style="color:#e3116c">&quot;custom_param_2&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       </span><span class="token string-literal string" style="color:#e3116c">&quot;custom_param_3&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">track</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="サンプルアプリ">サンプルアプリ<a href="#サンプルアプリ" class="hash-link" aria-label="サンプルアプリ への直接リンク" title="サンプルアプリ への直接リンク">​</a></h2>
<ul>
<li>サンプルアプリのパス: <code>Sample/RakutenAnalyticsSample.xcodeproj</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="app-store-提出手順">App Store 提出手順<a href="#app-store-提出手順" class="hash-link" aria-label="App Store 提出手順 への直接リンク" title="App Store 提出手順 への直接リンク">​</a></h2>
<p>Appleは、アプリケーションをApp Storeにリリースする際に <strong>広告識別子 (IDFA) の使用を開示する</strong> ことを要求しています。</p>
<p><img decoding="async" loading="lazy" alt="appstore-idfa.png" src="/rakuten-analytics-public-docs/ja/assets/images/appstore-idfa-53d1f0da9354ab5642b89749ab7dad37.png" width="798" height="518" class="img_ev3q"><em>IDFA使用開示</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-アプリ内で広告を提供する">1. アプリ内で広告を提供する<a href="#1-アプリ内で広告を提供する" class="hash-link" aria-label="1. アプリ内で広告を提供する への直接リンク" title="1. アプリ内で広告を提供する への直接リンク">​</a></h4>
<p>アプリに広告が含まれている場合、このボックスをチェックします。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-このアプリのインストールを以前に提供された広告に帰属させる">2. このアプリのインストールを以前に提供された広告に帰属させる<a href="#2-このアプリのインストールを以前に提供された広告に帰属させる" class="hash-link" aria-label="2. このアプリのインストールを以前に提供された広告に帰属させる への直接リンク" title="2. このアプリのインストールを以前に提供された広告に帰属させる への直接リンク">​</a></h4>
<p>このチェックボックスをオンにします。Rakuten SDKはインストール帰属のためにIDFAを使用します。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-このアプリ内で行われたアクションを以前に提供された広告に帰属させる">3. このアプリ内で行われたアクションを以前に提供された広告に帰属させる<a href="#3-このアプリ内で行われたアクションを以前に提供された広告に帰属させる" class="hash-link" aria-label="3. このアプリ内で行われたアクションを以前に提供された広告に帰属させる への直接リンク" title="3. このアプリ内で行われたアクションを以前に提供された広告に帰属させる への直接リンク">​</a></h4>
<p>このチェックボックスをオンにします。Rakuten SDKは再エンゲージメント広告の帰属のためにIDFAを使用します。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-ios制限付き広告トラッキング">5. iOS制限付き広告トラッキング<a href="#5-ios制限付き広告トラッキング" class="hash-link" aria-label="5. iOS制限付き広告トラッキング への直接リンク" title="5. iOS制限付き広告トラッキング への直接リンク">​</a></h4>
<p>Rakuten SDKは以下のApple要件を完全に遵守しています:</p>
<p>広告トラッキングを実行する前に、このプロパティの値を確認してください。値がNOの場合、広告識別子を以下の目的でのみ使用してください: フリークエンシーキャッピング、コンバージョンイベント、一意のユーザー数の推定、セキュリティおよび不正検出、デバッグ。</p>
<p>Rakuten SDKは、<code>コンバージョンイベント、一意のユーザー数の推定、セキュリティおよび不正検出</code> のためにのみIDFAを使用します。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="トラブルシューティング">トラブルシューティング<a href="#トラブルシューティング" class="hash-link" aria-label="トラブルシューティング への直接リンク" title="トラブルシューティング への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use_frameworks-を使用せずにプロジェクトをビルドする方法">use_frameworks! を使用せずにプロジェクトをビルドする方法<a href="#use_frameworks-を使用せずにプロジェクトをビルドする方法" class="hash-link" aria-label="use_frameworks! を使用せずにプロジェクトをビルドする方法 への直接リンク" title="use_frameworks! を使用せずにプロジェクトをビルドする方法 への直接リンク">​</a></h3>
<p>RakutenAnalyticsはSwiftフレームワークであり、カスタムモジュールマップを含んでいます。</p>
<p>アプリのPodfileに <code>use_frameworks!</code> が定義されていない場合、以下のCocoapodsエラーが発生します:</p>
<blockquote>
<p><code>Using Swift static libraries with custom module maps is currently not supported.</code></p>
</blockquote>
<p>この問題を解決するには:</p>
<ol>
<li>Podfileに <code>cocoapods-user-defined-build-types</code> プラグインを追加します。</li>
<li>以下のように <code>RAnalytics</code> とその依存関係を <code>static_framework</code> として宣言します:</li>
</ol>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">plugin &#x27;cocoapods-user-defined-build-types&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enable_user_defined_build_types!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target &#x27;MyApp&#x27; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pod &#x27;RAnalytics&#x27;, :build_type =&gt; :static_framework</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>注意:</strong> <code>cocoapods-user-defined-build-types</code> プラグインはサードパーティによって開発されており、そのサポートが継続されることを保証するものではありません。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rakutenanalytics-swift-package-チェックアウトのヒント">RakutenAnalytics Swift Package チェックアウトのヒント<a href="#rakutenanalytics-swift-package-チェックアウトのヒント" class="hash-link" aria-label="RakutenAnalytics Swift Package チェックアウトのヒント への直接リンク" title="RakutenAnalytics Swift Package チェックアウトのヒント への直接リンク">​</a></h3>
<p>RakutenAnalytics Swift Package をXcodeでチェックアウトできない場合、以下の2つのコマンドラインを実行してください:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/libexec/Plistbuddy -c &quot;Add :IDEPackageSupportUseBuiltinSCM bool 1&quot; ~/Library/Preferences/com.apple.dt.Xcode.plist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xcodebuild -scheme MyScheme -resolvePackageDependencies -usePackageSupportBuiltinSCM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="FAQ への直接リンク" title="FAQ への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="モジュールのビルドと実行">モジュールのビルドと実行<a href="#モジュールのビルドと実行" class="hash-link" aria-label="モジュールのビルドと実行 への直接リンク" title="モジュールのビルドと実行 への直接リンク">​</a></h3>
<ul>
<li><a href="https://github.com/rakutenanalytics/ios-analytics" target="_blank" rel="noopener noreferrer">iOS analytics リポジトリ</a> をクローンまたはフォークします。</li>
<li>リポジトリフォルダに <code>cd</code> します。</li>
<li><code>bundle install --path vendor/bundle</code> を実行します。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ユニットテスト">ユニットテスト<a href="#ユニットテスト" class="hash-link" aria-label="ユニットテスト への直接リンク" title="ユニットテスト への直接リンク">​</a></h4>
<ul>
<li>依存関係をインストールするには <code>bundle exec pod install</code> を実行します。</li>
<li>Xcodeで <code>UnitTestApp.xcworkspace</code> を開き、ビルド/実行します。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="app-store用アプリのビルド">App Store用アプリのビルド<a href="#app-store用アプリのビルド" class="hash-link" aria-label="App Store用アプリのビルド への直接リンク" title="App Store用アプリのビルド への直接リンク">​</a></h4>
<p>Xcode 13では、アプリのバージョン番号管理を自動的に行うオプションが導入されました（デフォルトで有効）。このオプションを有効にしてアプリをエクスポートすると、Analytics SDKのフレームワークバージョントラッキング機能が壊れます。</p>
<p>App Store用にエクスポートする際は、Xcode UIで「Manage Version and Build Number」オプションを無効にしてください。このオプションを有効のままにする場合、埋め込まれたSDK/フレームワークのバージョンをSDKが追跡できなくなることに注意してください。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="同じプロジェクトでrakutenanalyticsとranalyticsの依存関係を処理する">同じプロジェクトでRakutenAnalyticsとRAnalyticsの依存関係を処理する<a href="#同じプロジェクトでrakutenanalyticsとranalyticsの依存関係を処理する" class="hash-link" aria-label="同じプロジェクトでRakutenAnalyticsとRAnalyticsの依存関係を処理する への直接リンク" title="同じプロジェクトでRakutenAnalyticsとRAnalyticsの依存関係を処理する への直接リンク">​</a></h3>
<p>プロジェクトに <code>RakutenAnalytics</code> と <code>RAnalytics</code>（他のフレームワークの一部として）の両方の依存関係が含まれている場合、以下のような問題が発生する可能性があります:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token class-name">RakutenAnalytics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token class-name">SomeFrameworkWithRAnalyticsDependency</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> analyticsManager </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ERROR: Ambiguous use of &#x27;shared()&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>これは、異なるモジュールと名前空間間でクラス名が重複しているた  めに発生します。軽微な問題に対する一時的な解決策として、すべてのフレームワーク関連の呼び出しに直接モジュール名を指定することをお勧めします。例:</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token class-name">RakutenAnalytics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token class-name">SomeFrameworkWithRAnalyticsDependency</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> analyticsManager </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">RakutenAnalytics</span><span class="token punctuation" style="color:#393A34">.</span><span class="token class-name">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// No compilation error. We declare and call directly RakutenAnalytics instance.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>残念ながら、このアプローチはすべてのケースで機能するわけではなく、フレームワークの使用に依存します。重大な問題については、<code>RAnalytics</code> 依存関係を <code>RakutenAnalytics</code> に更新するフレームワークのリリースを待つことをお勧めします。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ページビューが自動的に追跡される方法">ページビューが自動的に追跡される方法<a href="#ページビューが自動的に追跡される方法" class="hash-link" aria-label="ページビューが自動的に追跡される方法 への直接リンク" title="ページビューが自動的に追跡される方法 への直接リンク">​</a></h3>
<p>新しいビューコントローラーが表示されるたびに訪問イベントを自動的にトリガーするために、メソッドスウィズリングを使用しています。ただし、以下の場合は除きます:</p>
<ul>
<li>ビューコントローラーが、<code>UINavigationController</code>、<code>UISplitViewController</code>、<code>UIPageViewController</code>、<code>UITabBarController</code> のいずれかである場合。</li>
<li>ビューコントローラーがシステムポップアップを表示している場合（例: <code>UIAlertView</code>、<code>UIActionSheet</code>、<code>UIAlertController</code>、<code>_UIPopoverView</code>）。</li>
<li>ビューコントローラー、ビュー、またはそれに接続されているウィンドウがAppleのプライベートクラス（名前が <code>_</code> で始まり、システムフレームワークから提供されるクラス）のインスタンスである場合。</li>
<li>ビューコントローラーが接続されているウィンドウのクラスが、システムフレームワークから提供される <code>UIWindow</code> のサブクラスである場合。</li>
</ul>
<p>これらの訪問イベントはすべてのトラッカーで利用可能であり、イベントの主題であるビューコントローラーは、<code>RAnalyticsTracker#processEvent:state:</code> に渡されるイベント状態の <code>currentPage</code> プロパティに見つけることができます。</p>
<p>RATトラッカーはさらに、タイトルがなく、ナビゲーションアイテムタイトルがなく、<code>-viewDidLoad</code> が呼び出された時点でビュー階層のいずれかのWebViewでURLが見つからないビューコントローラーを無視します。ただし、アプリケーションまたはアプリケーションに埋め込まれたフレームワークのいずれかによってサブクラス化されている場合を除きます。これにより、<code>UIViewController</code> という名前のページを報告するイベントなど、アプリケーションで訪問されたページに関する情報を提供しないイベントがフィルタリングされます。タイトル、ナビゲーションアイテムタイトル、またはURLのいずれかを持つビューコントローラーの場合、ライブラリはさらに <code>cp.title</code> および <code>cp.url</code> フィ  ールドをRATに送信される <code>pv</code> イベントに設定します。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ratで検索結果を追跡する">RATで検索結果を追跡する<a href="#ratで検索結果を追跡する" class="hash-link" aria-label="RATで検索結果を追跡する への直接リンク" title="RATで検索結果を追跡する への直接リンク">​</a></h3>
<p>以下のコードは、検索ページでどの結果が表示されるかを追跡するために送信できるイベントの例を示しています。以前の例で使用された標準の <code>pv</code> RATイベントと、いくつかの標準RATパラメータを使用します。使用されるパラメータは次のとおりです:</p>
<table><thead><tr><th>RATパラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>lang</code></td><td>検索に使用される言語。</td></tr><tr><td><code>sq</code></td><td>検索語句。</td></tr><tr><td><code>oa</code></td><td>すべての検索語句を要求する場合は <code>a</code>、いずれかを要求する場合は <code>o</code>。</td></tr><tr><td><code>esq</code></td><td>結果から除外する語句。</td></tr><tr><td><code>genre</code></td><td>結果のカテゴリ。</td></tr><tr><td><code>tag</code></td><td>タグの配列。</td></tr></tbody></table>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">RAnalyticsRATTracker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">eventType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;pv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;pgn&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;shop_search&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;pgt&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;search&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;lang&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;English&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;sq&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;search query&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;oa&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;esq&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;excluded query&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;genre&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;category&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-literal string" style="color:#e3116c">&quot;tag&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string-literal string" style="color:#e3116c">&quot;tag 1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&quot;tag 2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">track</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ratトラフィックの監視">RATトラフィックの監視<a href="#ratトラフィックの監視" class="hash-link" aria-label="RATトラフィックの監視 への直接リンク" title="RATトラフィックの監視 への直接リンク">​</a></h3>
<p><code>RAnalyticsWillUploadNotification</code>、<code>RAnalyticsUploadFailureNotification</code>、<code>RAnalyticsUploadSuccessNotification</code> 通知をリッスンすることで、トラッカーネットワークアクティビティを監視できます。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="統合の成功を確認する">統合の成功を確認する<a href="#統合の成功を確認する" class="hash-link" aria-label="統合の成功を確認する への直接リンク" title="統合の成功を確認する への直接リンク">​</a></h3>
<p>SDKが正しく統合されている場合、ログインユーザーに送信されるイベントには、ユーザーのメンバー識別子を含む <code>easyid</code> フィールドが含まれます。RATに送信されたイベントを確認する方法については、<a href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/ios/ios-user-guide#using-kibana-to-verify-successful-integration">こちら</a> を参照してください。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-telephony値の追跡-ctcarrierの非推奨">Core Telephony値の追跡: CTCarrierの非推奨<a href="#core-telephony値の追跡-ctcarrierの非推奨" class="hash-link" aria-label="Core Telephony値の追跡: CTCarrierの非推奨 への直接リンク" title="Core Telephony値の追跡: CTCarrierの非推奨 への直接リンク">​</a></h3>
<p><strong>注意:</strong> SDKバージョン10.3.0以降、RakutenAnalyticsSDKからCTCarrier値が削除されます。<a href="https://developer.apple.com/documentation/ios-ipados-release-notes/ios-ipados-16_4-release-notes" target="_blank" rel="noopener noreferrer">iOS 16.4 リリースノート</a></p>
<p><a href="https://developer.apple.com/documentation/coretelephony/ctcarrier" target="_blank" rel="noopener noreferrer">CTCarrier</a> APIを使用して以下の値を追跡していました:</p>
<ul>
<li><code>carrierName</code></li>
<li><code>mobileCountryCode</code></li>
<li><code>mobileNetworkCode</code></li>
<li><code>isoCountryCode</code></li>
<li><code>allowsVOIP</code></li>
</ul>
<p>iOS 16.4以降、<code>CTCarrier</code> は <strong>非推奨</strong> API であり（<a href="https://developer.apple.com/documentation/ios-ipados-release-notes/ios-ipados-16_4-release-notes" target="_blank" rel="noopener noreferrer">iOS 16.4 リリースノート</a>）、<strong>将来的に置き換えなしで削除される予定</strong> です。非推奨プロセスの一環として、<code>CTCarrier</code> 値は常に <strong>空文字列</strong> または <strong>65535</strong> を <strong>デフォルト値</strong> として返します。</p>
<p><code>CTCarrier</code> は、<code>mcn</code>、<code>mcnd</code>、<code>simopn</code>、<code>simop</code> 値を提供するために使用されていました。<code>CTCarrier</code> の変更に従い、<code>CTCarrier</code> APIのサポートを終了し、Appleが将来のiOSアップデートでこのAPIをCore Telephonyから削除した後に削除します。</p>
<p><strong>CTCarrier非推奨前後の <code>mcn</code>、<code>mcnd</code>、<code>simopn</code>、<code>simop</code> 値の例:</strong></p>
<table><thead><tr><th>キー</th><th>説明</th><th>iOS 16.4以前の値</th><th>iOS 16.4以降の値</th></tr></thead><tbody><tr><td><code>mcn</code></td><td>プライマリキャリアの名前</td><td><code>Rakuten</code></td><td><code>--</code></td></tr><tr><td><code>mcnd</code></td><td>セカンダリキャリアの名前</td><td><code>Rakuten</code> または空文字列</td><td><code>--</code></td></tr><tr><td><code>simopn</code></td><td>サービスプロバイダ名</td><td><code>Rakuten</code></td><td><code>--</code></td></tr><tr><td><code>simop</code></td><td>SIMオペレーターコード</td><td><code>44011</code></td><td><code>6553565535</code></td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/rakuten-analytics-public-docs/ja/docs/analytics-sdks/ios"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">iOS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rakuten-analytics-public-docs/ja/docs/category/advanced-usage-3"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Advanced Usage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ios-analytics-ユーザーガイド" class="table-of-contents__link toc-highlight">iOS Analytics ユーザーガイド</a></li><li><a href="#必要条件" class="table-of-contents__link toc-highlight">必要条件</a></li><li><a href="#インストール方法" class="table-of-contents__link toc-highlight">インストール方法</a><ul><li><a href="#cocoapods" class="table-of-contents__link toc-highlight">CocoaPods</a></li><li><a href="#swift-package-manager" class="table-of-contents__link toc-highlight">Swift Package Manager</a></li><li><a href="#アプリでモジュールをインポートする" class="table-of-contents__link toc-highlight">アプリでモジュールをインポートする</a></li><li><a href="#ranalytics-から-rakutenanalytics-への移行" class="table-of-contents__link toc-highlight">RAnalytics から RakutenAnalytics への移行</a></li></ul></li><li><a href="#設定" class="table-of-contents__link toc-highlight">設定</a><ul><li><a href="#認証情報" class="table-of-contents__link toc-highlight">認証情報</a></li><li><a href="#ビルド時の設定" class="table-of-contents__link toc-highlight">ビルド時の設定</a></li><li><a href="#kibanaを使用して統合の成功を確認する" class="table-of-contents__link toc-highlight">Kibanaを使用して統合の成功を確認する</a></li></ul></li><li><a href="#sdkの使用" class="table-of-contents__link toc-highlight">SDKの使用</a><ul><li><a href="#ログインの処理" class="table-of-contents__link toc-highlight">ログインの処理</a></li><li><a href="#ログイン失敗の処理" class="table-of-contents__link toc-highlight">ログイン失敗の処理</a></li><li><a href="#ログアウト の処理" class="table-of-contents__link toc-highlight">ログアウトの処理</a></li><li><a href="#標準イベントの追跡" class="table-of-contents__link toc-highlight">標準イベントの追跡</a></li><li><a href="#標準イベント" class="table-of-contents__link toc-highlight">標準イベント</a></li><li><a href="#ios拡張機能でのイベント追跡" class="table-of-contents__link toc-highlight">iOS拡張機能でのイベント追跡</a></li><li><a href="#uikit-の-uiviewcontroller-でのイベント追跡" class="table-of-contents__link toc-highlight"><code>UIKit</code> の <code>UIViewController</code> でのイベント追跡</a></li><li><a href="#swiftuiビューでのイベント追跡" class="table-of-contents__link toc-highlight">SwiftUIビューでのイベント追跡</a></li><li><a href="#uiインタラクション" class="table-of-contents__link toc-highlight">UIインタラクション</a></li><li><a href="#カスタムイベントの追跡" class="table-of-contents__link toc-highlight">カスタムイベントの追跡</a></li></ul></li><li><a href="#サンプルアプリ" class="table-of-contents__link toc-highlight">サンプルアプリ</a></li><li><a href="#app-store-提出手順" class="table-of-contents__link toc-highlight">App Store 提出手順</a></li><li><a href="#トラブルシューティング" class="table-of-contents__link toc-highlight">トラブルシューティング</a><ul><li><a href="#use_frameworks-を使用せずにプロジェクトをビルドする方法" class="table-of-contents__link toc-highlight">use_frameworks! を使用せずにプロジェクトをビルドする方法</a></li><li><a href="#rakutenanalytics-swift-package-チェックアウトのヒント" class="table-of-contents__link toc-highlight">RakutenAnalytics Swift Package チェックアウトのヒント</a></li></ul></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#モジュールのビルドと実行" class="table-of-contents__link toc-highlight">モジュールのビルドと実行</a></li><li><a href="#同じプロジェクトでrakutenanalyticsとranalyticsの依存関係を処理する" class="table-of-contents__link toc-highlight">同じプロジェクトでRakutenAnalyticsとRAnalyticsの依存関係を処理する</a></li><li><a href="#ページビューが自動的に追跡される方法" class="table-of-contents__link toc-highlight">ページビューが自動的に追跡される方法</a></li><li><a href="#ratで検索結果を追跡する" class="table-of-contents__link toc-highlight">RATで検索結果を追跡する</a></li><li><a href="#ratトラフィックの監視" class="table-of-contents__link toc-highlight">RATトラフィックの監視</a></li><li><a href="#統合の成功を確認する" class="table-of-contents__link toc-highlight">統合の成功を確認する</a></li><li><a href="#core-telephony値の追跡-ctcarrierの非推奨" class="table-of-contents__link toc-highlight">Core Telephony値の追跡: CTCarrierの非推奨</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ドキュメント</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rakuten-analytics-public-docs/ja/docs/overview">ユーザーガイド</a></li></ul></div><div class="col footer__col"><div class="footer__title">コミュニティ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discourse.tech.rakuten-it.com/c/guilds/mobile-dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">もっと</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://confluence.rakuten-it.com/confluence/x/mQ6ia" target="_blank" rel="noopener noreferrer" class="footer__link-item">よくある質問 (FAQ)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rat.intra.rakuten-it.com/analytics/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RAT分析プラットフォーム<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ghe.rakuten-it.com/rakutenanalytics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">著作権 © 2025 Rakuten Group, Inc.</div></div></div></footer></div>
</body>
</html>