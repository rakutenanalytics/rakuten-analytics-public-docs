<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sdks/analytics-sdks/android/android-analytics-migration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Migration Guide | Rakuten Analytics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migration Guide | Rakuten Analytics"><meta data-rh="true" name="description" content="Migration Guide"><meta data-rh="true" property="og:description" content="Migration Guide"><link data-rh="true" rel="icon" href="/rakuten-analytics-public-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration"><link data-rh="true" rel="alternate" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration" hreflang="en"><link data-rh="true" rel="alternate" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/ja/docs/analytics-sdk/android/android-migration" hreflang="ja"><link data-rh="true" rel="alternate" href="https://rakutenanalytics.github.io/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-81FVRG5RZZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-81FVRG5RZZ",{})</script><link rel="stylesheet" href="/rakuten-analytics-public-docs/assets/css/styles.b0f99d43.css">
<script src="/rakuten-analytics-public-docs/assets/js/runtime~main.9145452d.js" defer="defer"></script>
<script src="/rakuten-analytics-public-docs/assets/js/main.0726f8e1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rakuten-analytics-public-docs/"><div class="navbar__logo"><img src="/rakuten-analytics-public-docs/img/rakuten-analytics-logo.svg" alt="Rakuten Logo" class="themedComponent__dKv themedComponent--light_rzkv" height="25" width="175"><img src="/rakuten-analytics-public-docs/img/rakuten-analytics-logo.svg" alt="Rakuten Logo" class="themedComponent__dKv themedComponent--dark_mMAk" height="25" width="175"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rakuten-analytics-public-docs/docs/overview">Products</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/rakuten-analytics-public-docs/ja/docs/analytics-sdk/android/android-migration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">æ—¥æœ¬èªž</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rakuten-analytics-public-docs/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rakuten-analytics-public-docs/docs/analytics-sdks">Analytics SDKs</a><button aria-label="Collapse sidebar category &#x27;Analytics SDKs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdks/android">Android</a><button aria-label="Collapse sidebar category &#x27;Android&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-user-guide">User Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rakuten-analytics-public-docs/docs/category/advanced-usage-2">Advanced Usage</a><button aria-label="Expand sidebar category &#x27;Advanced Usage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration">Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-changelog">Changelog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rakuten-analytics-public-docs/docs/analytics-sdks/ios">iOS</a><button aria-label="Expand sidebar category &#x27;iOS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rakuten-analytics-public-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rakuten-analytics-public-docs/docs/analytics-sdks"><span itemprop="name">Analytics SDKs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rakuten-analytics-public-docs/docs/analytics-sdks/android"><span itemprop="name">Android</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Migration Guide</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migration Guide</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide">Migration Guide<a href="#migration-guide" class="hash-link" aria-label="Direct link to Migration Guide" title="Direct link to Migration Guide">â€‹</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-4xx---500">Migration Guide 4.x.x -&gt; 5.0.0<a href="#migration-guide-4xx---500" class="hash-link" aria-label="Direct link to Migration Guide 4.x.x -&gt; 5.0.0" title="Direct link to Migration Guide 4.x.x -&gt; 5.0.0">â€‹</a></h2>
<p>There are many changes in this new major version of the analytics sdk. To avoid conflicts with transitive dependencies onto the analytics SDK we decided to change the identifiers and java package our classes live in - so <strong>it is safe to run analytics v4 and v5 in parallel in the same application</strong>. Follow the steps below to update your app to the newest state.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-identifiers">Update Identifiers<a href="#update-identifiers" class="hash-link" aria-label="Direct link to Update Identifiers" title="Direct link to Update Identifiers">â€‹</a></h3>
<p>The package name of the analytics modules have changed, as well as the maven group id and meta identifiers, so you will have to update identifiers in...</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="buildgradle-files">...<code>build.gradle</code> files<a href="#buildgradle-files" class="hash-link" aria-label="Direct link to buildgradle-files" title="Direct link to buildgradle-files">â€‹</a></h4>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">  compile &#x27;jp.co.rakuten.sdtd:analytics:4.X.Y&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  compile &#x27;com.rakuten.tech.mobile.analytics:analytics:5.0.0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">// implementation instead of compile if you are using the android gradle plugin version 3 or newer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="import-statements-in-source-files">...<code>import</code> statements in source files<a href="#import-statements-in-source-files" class="hash-link" aria-label="Direct link to import-statements-in-source-files" title="Direct link to import-statements-in-source-files">â€‹</a></h4>
<p>Android studio can help you with the &quot;Optimize Imports&quot; action. For example:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> import jp.co.rakuten.sdtd.analytics.AnalyticsManager;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> import jp.co.rakuten.sdtd.analytics.Consumer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> import jp.co.rakuten.sdtd.analytics.RATTracker;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> import jp.co.rakuten.sdtd.analytics.SendDataCallback;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> import jp.co.rakuten.sdtd.analytics.SendDataErrorCallback;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> import com.rakuten.tech.mobile.analytics.AnalyticsManager;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> import com.rakuten.tech.mobile.analytics.Consumer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> import com.rakuten.tech.mobile.analytics.RatTracker;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> import com.rakuten.tech.mobile.analytics.SchedulingStrategy;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="meta-data-tags-in-androidmanifestxml">...<code>meta-data</code> tags in <code>AndroidManifest.xml</code><a href="#meta-data-tags-in-androidmanifestxml" class="hash-link" aria-label="Direct link to meta-data-tags-in-androidmanifestxml" title="Direct link to meta-data-tags-in-androidmanifestxml">â€‹</a></h4>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token deleted-arrow deleted prefix deleted" style="color:#d73a49">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d73a49">manifest&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-arrow deleted line" style="color:#d73a49"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &lt;application&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">   &lt;meta-data  android:name=&quot;jp.co.rakuten.sdtd.analytics.RATAccountId&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   &lt;meta-data  android:name=&quot;com.rakuten.tech.mobile.analytics.RATAccountId&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">               android:value=&quot;MY_RAT_ACCOUNT_ID&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">   &lt;meta-data  android:name=&quot;jp.co.rakuten.sdtd.analytics.RATApplicationId&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   &lt;meta-data  android:name=&quot;com.rakuten.tech.mobile.analytics.RATApplicationId&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">               android:value=&quot;MY_RAT_APPLICATION_ID&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &lt;/application&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d73a49">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d73a49">/manifest&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-usage-of-public-api">Update Usage of public API<a href="#update-usage-of-public-api" class="hash-link" aria-label="Direct link to Update Usage of public API" title="Direct link to Update Usage of public API">â€‹</a></h3>
<p>The public API of the SDK changed significantly, it is a lot leaner and simpler in version 5. The changes are listed in the tables below. ðŸš« = removed/non-existing, âœ… = stays the same.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interfaces">Interfaces<a href="#interfaces" class="hash-link" aria-label="Direct link to Interfaces" title="Direct link to Interfaces">â€‹</a></h4>
<table><thead><tr><th>Analytics v4</th><th>v5</th></tr></thead><tbody><tr><td><code>Consumer</code></td><td>âœ…</td></tr><tr><td><code>Tracker</code></td><td>âœ…</td></tr><tr><td><code>AnalyticsManager.Event.Name</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager.Event.Parameter</code></td><td>ðŸš«</td></tr><tr><td><code>NetworkStateMonitor.OnBackgroundDataMonitorChangeListener</code></td><td>ðŸš«</td></tr><tr><td><code>SendDataCallback</code></td><td>ðŸš«</td></tr><tr><td><code>SendDataErrorCallback</code></td><td>ðŸš«</td></tr><tr><td>ðŸš«</td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/EventDelivery.kt" target="_blank" rel="noopener noreferrer"><code>EventDelivery</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="classes">Classes<a href="#classes" class="hash-link" aria-label="Direct link to Classes" title="Direct link to Classes">â€‹</a></h4>
<table><thead><tr><th>Analytics v4</th><th>v5</th></tr></thead><tbody><tr><td><code>AnalyticsInitProvider</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager</code></td><td>âœ…</td></tr><tr><td><code>AnalyticsManager.Event</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/Event.kt" target="_blank" rel="noopener noreferrer"><code>Event</code></a></td></tr><tr><td><code>AnalyticsManager.Event.Builder</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager.Item</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager.Item.Builder</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager.State</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/MetaData.kt" target="_blank" rel="noopener noreferrer"><code>MetaData</code></a></td></tr><tr><td><code>AppConfig</code></td><td>ðŸš«</td></tr><tr><td><code>DeliveryStrategy</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/SchedulingStrategy.kt" target="_blank" rel="noopener noreferrer"><code>SchedulingStrategy</code></a></td></tr><tr><td><code>DeviceUtil</code></td><td>ðŸš«</td></tr><tr><td><code>GeoLocationInfo</code></td><td>ðŸš«</td></tr><tr><td><code>GeoLocationManager</code></td><td>ðŸš«</td></tr><tr><td><code>LogUtil</code></td><td>ðŸš«</td></tr><tr><td><code>NetworkStateMonitor</code></td><td>ðŸš«</td></tr><tr><td><code>RATTracker</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatTracker.kt" target="_blank" rel="noopener noreferrer"><code>RatTracker</code> </a></td></tr><tr><td><code>StringUtility</code></td><td>ðŸš«</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enums">Enums<a href="#enums" class="hash-link" aria-label="Direct link to Enums" title="Direct link to Enums">â€‹</a></h4>
<table><thead><tr><th>Analytics v4</th><th>v5</th></tr></thead><tbody><tr><td><code>AnalyticsManager.State.LoginMethod</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/MetaData.kt" target="_blank" rel="noopener noreferrer"><code>MetaData.LoginMethod</code></a></td></tr><tr><td><code>AnalyticsManager.State.LogoutMethod</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/MetaData.kt" target="_blank" rel="noopener noreferrer"><code>MetaData.LogoutMethod</code></a></td></tr><tr><td>ðŸš«</td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatEnvironment.kt" target="_blank" rel="noopener noreferrer"><code>RatEnvironment</code></a></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changes-in-analyticsmanager-and-rattracker">Changes in <code>AnalyticsManager</code> and <code>RatTracker</code><a href="#changes-in-analyticsmanager-and-rattracker" class="hash-link" aria-label="Direct link to changes-in-analyticsmanager-and-rattracker" title="Direct link to changes-in-analyticsmanager-and-rattracker">â€‹</a></h4>
<table><thead><tr><th>Analytics v4</th><th>v5</th></tr></thead><tbody><tr><td><code>AnalyticsManager#INSTANCE</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/AnalyticsManager.kt"><code>AnalyticsManager#instance()</code></a></td></tr><tr><td><code>AnalyticsManager#initialize(Context)</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager#initialize(Context, RequestQueue)</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager#setCallbacks(SendDataCallback, SendDataErrorCallback)</code></td><td>ðŸš«</td></tr><tr><td><code>AnalyticsManager#setAccountId(long)</code></td><td>ðŸš« use <code>meta-data</code></td></tr><tr><td><code>AnalyticsManager#setApplicationId()long</code></td><td>ðŸš« use <code>meta-data</code></td></tr><tr><td><code>AnalyticsManager#trackAdvertisingIdentifier(boolean)</code></td><td>ðŸš« use <code>meta-data</code> or <a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatTracker.kt"><code>RatTracker#trackAdvertisingIdentifier(boolean)</code></a></td></tr><tr><td><code>AnalyticsManager#setStaging(boolean)</code></td><td>ðŸš« use <code>meta-data</code></td></tr><tr><td><code>AnalyticsManager#add(Tracker)</code></td><td>âœ…</td></tr><tr><td><code>AnalyticsManager#enableLocation(boolean)</code></td><td>âœ…</td></tr><tr><td><code>RATTracker#INSTANCE</code></td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatTracker.kt"><code>RatTracker#instance()</code></a></td></tr><tr><td><code>RATTracker#event(String, Map&lt;String, Object&gt;)</code></td><td>âœ…</td></tr><tr><td><code>RATTracker#getAppId()</code></td><td>ðŸš«</td></tr><tr><td><code>RATTracker#getGuid()</code></td><td>âœ…</td></tr><tr><td><code>RATTracker#getRpCookie(Consumer&lt;HttpCookie&gt;)</code></td><td>âœ…</td></tr><tr><td><code>RATTracker#initialize(Context, RequestQueue)</code></td><td>ðŸš«</td></tr><tr><td><code>RATTracker#process(Event, State)</code></td><td>âœ…</td></tr><tr><td><code>RATTracker#setApplicationtId(long)</code></td><td>ðŸš«</td></tr><tr><td><code>RATTracker#setDeliveryStrategy(DeliveryStrategy</code></td><td>use <a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatTracker.kt"><code>RatTracker#getEventDelivery()</code></a> and <a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/EventDelivery.kt"><code>EventDelivery#setSchedulingStrategy()</code></a></td></tr><tr><td>ðŸš«</td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatTracker.kt"><code>RatTracker#trackAdvertisingIdentifier</code></a></td></tr><tr><td>ðŸš«</td><td><a href="https://github.com/rakutenanalytics/android-analytics/blob/master/analytics/src/main/java/com/rakuten/tech/mobile/analytics/RatTracker.kt"><code>RatTracker#getEventDelivery()</code></a></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-7xx8xx---9xx">Migration Guide 7.x.x/8.x.x -&gt; 9.x.x<a href="#migration-guide-7xx8xx---9xx" class="hash-link" aria-label="Direct link to Migration Guide 7.x.x/8.x.x -&gt; 9.x.x" title="Direct link to Migration Guide 7.x.x/8.x.x -&gt; 9.x.x">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="analyticsmanagerinstance-api-changes">AnalyticsManager.instance() API Changes<a href="#analyticsmanagerinstance-api-changes" class="hash-link" aria-label="Direct link to AnalyticsManager.instance() API Changes" title="Direct link to AnalyticsManager.instance() API Changes">â€‹</a></h3>
<p>Starting v9.0.0, the <code>AnalyticsManager.instance()</code> API will now return <code>null</code> when the SDK was not initialized instead of throwing <code>SdkNotInitializedException</code> exception.</p>
<ul>
<li>The SDK will re-initialized on next app launch.</li>
</ul>
<p>All access to the <code>AnalyticsManager.instance()</code> API should have null checking.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h4>
<p><strong>Before:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">enableLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getRpCookie</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>After:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">enableLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getRpCookie</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="member-identifier-apis-changes">Member Identifier APIs Changes<a href="#member-identifier-apis-changes" class="hash-link" aria-label="Direct link to Member Identifier APIs Changes" title="Direct link to Member Identifier APIs Changes">â€‹</a></h3>
<p>Starting v9.0.0, setting and removing of member identifier is now handled by the <code>AnalyticsManager</code> class.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h4>
<p><strong>Before:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RatIdToken</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMemberIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memberIdentifier</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Set member identifier and send login event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RatIdToken</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeMemberIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Remove member identifier and send logout event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RatIdToken</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMemberError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Send login failure event.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>After:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMemberIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memberIdentifier</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Set member identifier and send login event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeMemberIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Remove member identifier and send logout event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setMemberError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Send login failure event.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="push-sdk-events-tracking-moved-to-push-sdk-v9110">Push SDK Events Tracking (moved to Push SDK v9.11.0)<a href="#push-sdk-events-tracking-moved-to-push-sdk-v9110" class="hash-link" aria-label="Direct link to Push SDK Events Tracking (moved to Push SDK v9.11.0)" title="Direct link to Push SDK Events Tracking (moved to Push SDK v9.11.0)">â€‹</a></h3>
<p>Starting v9.3.0, all the rem push events <code>_rem_push_notify</code> <code>_rem_push_received</code> <code>_rem_push_auto_register</code> <code>_rem_push_auto_unregister</code> <code>_rem_push_cv</code> tracking mechanism has been moved to Push SDK.
Please use Push SDK version &gt;= 9.11.0 to your app in order to track events for push notification:
<a href="https://github.com/rakuten-mag/android-push.git" target="_blank" rel="noopener noreferrer">https://github.com/rakuten-mag/android-push.git</a></p>
<p><font color="red">Note:</font> If you want to use RAT SDK v9.3.0 with Push SDK in your app then you must have to upgrade the Push SDK version to 9.11.0, otherwise the push event tracking will not work.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-10xx---11xx">Migration Guide 10.x.x -&gt; 11.x.x<a href="#migration-guide-10xx---11xx" class="hash-link" aria-label="Direct link to Migration Guide 10.x.x -&gt; 11.x.x" title="Direct link to Migration Guide 10.x.x -&gt; 11.x.x">â€‹</a></h2>
<p>Starting from v11.0.0, the automatic tracking of User SDK login&#x27;s events listed below has been disabled:</p>
<ul>
<li><code>_rem_login</code>  event.</li>
<li><code>_rem_logout</code> even`.</li>
<li><code>userid</code>  parameter on all event payloads when the user is logged in.</li>
</ul>
<p>To enable events tracking in your Application, follow the steps outlined below:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-add-the-localbroadcastmanager-to-your-apps-buildgradle-file">1. Add the <code>LocalBroadcastManager</code> to your app&#x27;s build.gradle file.<a href="#1-add-the-localbroadcastmanager-to-your-apps-buildgradle-file" class="hash-link" aria-label="Direct link to 1-add-the-localbroadcastmanager-to-your-apps-buildgradle-file" title="Direct link to 1-add-the-localbroadcastmanager-to-your-apps-buildgradle-file">â€‹</a></h4>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">implementation &#x27;androidx.localbroadcastmanager:localbroadcastmanager:1.1.0&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-initialize-and-register-the-sdkbroadcastreceiver-in-the-oncreate-method-of-your-application-class">2. Initialize and register the <code>SDKBroadcastReceiver</code> in the <code>onCreate()</code> method of your <code>Application</code> class.<a href="#2-initialize-and-register-the-sdkbroadcastreceiver-in-the-oncreate-method-of-your-application-class" class="hash-link" aria-label="Direct link to 2-initialize-and-register-the-sdkbroadcastreceiver-in-the-oncreate-method-of-your-application-class" title="Direct link to 2-initialize-and-register-the-sdkbroadcastreceiver-in-the-oncreate-method-of-your-application-class">â€‹</a></h4>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> android</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> androidx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localbroadcastmanager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LocalBroadcastManager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rakuten</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tech</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mobile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">analytics</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SdkBroadcastReceiver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> MyApplication</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Application</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">override</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">onCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">onCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SdkBroadcastReceiver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">apply</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                LocalBroadcastManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token label symbol" style="color:#36acaa">@MyApplication</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">registerReceiver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sdkIntentFilter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more details, please refer to the following documentation:</p>
<ul>
<li><a href="https://confluence.rakuten-it.com/confluence/display/RAT/Analytics+SDK%3A+%5BAndroid%5D+Discontinued+automatic+tracking+of+User+SDK+login+events+on+v11.0.0" target="_blank" rel="noopener noreferrer">Discontinued automatic tracking of User SDK login events on v11.0.0</a></li>
<li>Sample app repository: <a href="https://ghe.rakuten-it.com/rakutenanalytics/android-user-sdk-login-sample" target="_blank" rel="noopener noreferrer">android-user-sdk-login-sample</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-9xx---10xx">Migration Guide 9.x.x -&gt; 10.x.x<a href="#migration-guide-9xx---10xx" class="hash-link" aria-label="Direct link to Migration Guide 9.x.x -&gt; 10.x.x" title="Direct link to Migration Guide 9.x.x -&gt; 10.x.x">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maven-package-repository-migration">Maven package repository migration<a href="#maven-package-repository-migration" class="hash-link" aria-label="Direct link to Maven package repository migration" title="Direct link to Maven package repository migration">â€‹</a></h3>
<p>Starting from v10.1.0, the repository for the Analytics SDK Maven components has changed. Therefore, you will need to update the repository URL in your build.gradle file as follows:
Under the project level, add Maven Central to your repositories:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">repositories{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mavenCentral()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the <code>build.gradle</code> file of your app module, update the project&#x27;s dependencies to use the new version of the Analytics SDK as follow:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Make sure to replace &#x27;com.rakuten.tech.mobile.analytics:analytics:...&#x27; with the new group ID, artifact ID:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1- remove this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &quot;com.rakuten.tech.mobile.analytics:analytics:OLD_VERSION&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2 - add this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &quot;io.github.rakutenanalytics:analytics:10.1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issues-handling">Issues handling<a href="#issues-handling" class="hash-link" aria-label="Direct link to Issues handling" title="Direct link to Issues handling">â€‹</a></h3>
<p>If you are using Analytics SDK version 10.1.0 or higher, along with other SDKs that have a strict dependency on an Analytics SDK version older than 10.0.1, you may encounter build-time issues due to the migration of the Maven package repository.
To resolve this issue, you should exclude the older version of the Analytics SDK <code>com.rakuten.tech.mobile.analytics</code> from the SDK that implements it, as demonstrated in the example below:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">implementation &quot;io.github.rakutenanalytics:analytics:10.1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">implementation (&#x27;com.rakuten.tech.mobile.mysdk:mysdk:${version}&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exclude group: &#x27;com.rakuten.tech.mobile.analytics&#x27;, module:&#x27;analytics-core&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Please be aware that there are no significant changes to the public APIs from Analytics version 10.0.x to 10.1.x. Please refer to the <a href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-changelog">Changelog</a> section for details on bug fixes and improvements in the 10.1.x versions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="remove-deprecated-apis">Remove deprecated APIs<a href="#remove-deprecated-apis" class="hash-link" aria-label="Direct link to Remove deprecated APIs" title="Direct link to Remove deprecated APIs">â€‹</a></h2>
<p>Since 10.0.0, the following deprecated APIs are removed. Please note the new APIs.</p>
<ol>
<li><code>AnalyticsManager.getRpCookie(callback: RpCookieConsumer, fetchError: RpCookieErrorListener?)</code></li>
<li><code>AnalyticsManager.enablePageViewTracking(trackPageViews: Boolean)</code></li>
<li><code>AnalyticsManager.setShouldTrackEventHandler(handler: ShouldTrackEventHandler?)</code></li>
</ol>
<p><strong>Before:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getRpCookie</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">callback</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> RpCookieConsumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fetchError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> RpCookieErrorListener</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setShouldTrackEventHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">handler</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ShouldTrackEventHandler</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">enablePageViewTracking</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">trackPageViews</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Boolean</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>After:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">instance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getRpCookie</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">callback</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> HttpCookie</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> Unit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fetchError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exception</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Exception</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> Unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AnalyticsManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setShouldTrackEventHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">handler</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">eventName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> Boolean</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//enablePageViewTracking uses setShouldTrackEventHandler(ShouldTrackEventHandler) instead</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Frequently Asked Questions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration Guide</a></li><li><a href="#migration-guide-4xx---500" class="table-of-contents__link toc-highlight">Migration Guide 4.x.x -&gt; 5.0.0</a><ul><li><a href="#update-identifiers" class="table-of-contents__link toc-highlight">Update Identifiers</a></li><li><a href="#update-usage-of-public-api" class="table-of-contents__link toc-highlight">Update Usage of public API</a></li></ul></li><li><a href="#migration-guide-7xx8xx---9xx" class="table-of-contents__link toc-highlight">Migration Guide 7.x.x/8.x.x -&gt; 9.x.x</a><ul><li><a href="#analyticsmanagerinstance-api-changes" class="table-of-contents__link toc-highlight">AnalyticsManager.instance() API Changes</a></li><li><a href="#member-identifier-apis-changes" class="table-of-contents__link toc-highlight">Member Identifier APIs Changes</a></li><li><a href="#push-sdk-events-tracking-moved-to-push-sdk-v9110" class="table-of-contents__link toc-highlight">Push SDK Events Tracking (moved to Push SDK v9.11.0)</a></li></ul></li><li><a href="#migration-guide-10xx---11xx" class="table-of-contents__link toc-highlight">Migration Guide 10.x.x -&gt; 11.x.x</a></li><li><a href="#migration-guide-9xx---10xx" class="table-of-contents__link toc-highlight">Migration Guide 9.x.x -&gt; 10.x.x</a><ul><li><a href="#maven-package-repository-migration" class="table-of-contents__link toc-highlight">Maven package repository migration</a></li><li><a href="#issues-handling" class="table-of-contents__link toc-highlight">Issues handling</a></li></ul></li><li><a href="#remove-deprecated-apis" class="table-of-contents__link toc-highlight">Remove deprecated APIs</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rakuten-analytics-public-docs/docs/overview">User Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discourse.tech.rakuten-it.com/c/guilds/mobile-dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://confluence.rakuten-it.com/confluence/x/mQ6ia" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rat.intra.rakuten-it.com/analytics/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RAT Analytics Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ghe.rakuten-it.com/rakutenanalytics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Rakuten Group, Inc.</div></div></div></footer></div>
</body>
</html>