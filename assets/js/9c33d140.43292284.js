"use strict";(self.webpackChunkanalytics_sdk_extensions=self.webpackChunkanalytics_sdk_extensions||[]).push([[5176],{3778:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"sdks/analytics-sdks/android/android-analytics-faq","title":"Frequently Asked Questions","description":"Frequently Asked Questions","source":"@site/docs/sdks/analytics-sdks/android/faq.md","sourceDirName":"sdks/analytics-sdks/android","slug":"/analytics-sdk/android/android-faq","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-faq","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"id":"android-analytics-faq","slug":"/analytics-sdk/android/android-faq","title":"Frequently Asked Questions"},"sidebar":"docSidebar","previous":{"title":"Error Callback","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-error-callback"},"next":{"title":"Migration Guide","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/android/android-migration"}}');var s=t(4848),a=t(8453);const o={sidebar_position:3,id:"android-analytics-faq",slug:"/analytics-sdk/android/android-faq",title:"Frequently Asked Questions"},r=void 0,d={},l=[{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Q: How do I test tracking with the Analytics data in staging environment?",id:"q-how-do-i-test-tracking-with-the-analytics-data-in-staging-environment",level:3},{value:"Q: How to track events to custom account/app ID?",id:"q-how-to-track-events-to-custom-accountapp-id",level:3},{value:"Q: How can I track a user&#39;s location?",id:"q-how-can-i-track-a-users-location",level:3},{value:"Q: What are the policy requirements for Google Advertising Id?",id:"q-what-are-the-policy-requirements-for-google-advertising-id",level:3},{value:"Q: Is there any situation where pooled requests are lost?",id:"q-is-there-any-situation-where-pooled-requests-are-lost",level:3},{value:"Q: How to fix missing <code>userId</code> field in some event data sent to RAT.",id:"q-how-to-fix-missing-userid-field-in-some-event-data-sent-to-rat",level:3},{value:"Documentation and Useful Links",id:"documentation-and-useful-links",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,s.jsx)(n.h3,{id:"q-how-do-i-test-tracking-with-the-analytics-data-in-staging-environment",children:"Q: How do I test tracking with the Analytics data in staging environment?"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"https://confluence.rakuten-it.com/confluence/display/RAT/How+to+Check+Data+that+is+being+Sent+to+RAT",children:"Kibana"})," tool shows Analytics data almost in real time. There is also a ",(0,s.jsx)(n.a,{href:"https://confluence.rakuten-it.com/confluence/pages/viewpage.action?pageId=1640084655",children:"BI tool"}),", similar to the UI for RAT, available to perform statistics."]}),"\n",(0,s.jsx)(n.h3,{id:"q-how-to-track-events-to-custom-accountapp-id",children:"Q: How to track events to custom account/app ID?"}),"\n",(0,s.jsxs)(n.p,{children:["Follow the ",(0,s.jsx)(n.a,{href:"./android-user-guide#getting-started",children:'"Getting Started" section above'})," to configure your account and app ID."]}),"\n",(0,s.jsxs)(n.p,{children:["After running the app and triggering the event tracking confirm the configuration by searching in ",(0,s.jsx)(n.a,{href:"https://confluence.rakuten-it.com/confluence/display/RAT/How+to+Check+Data+that+is+being+Sent+to+RAT",children:"Kibana"})," for your account & app ID with a query like this: ",(0,s.jsx)(n.code,{children:"acc:MY_RAT_ACCOUNT_ID AND aid:MY_RAT_APPLICATION_ID"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You can send a single event to a different account or app ID as described in ",(0,s.jsx)(n.a,{href:"./android-diff-accounts",children:"advanced usage"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"q-how-can-i-track-a-users-location",children:"Q: How can I track a user's location?"}),"\n",(0,s.jsxs)(n.p,{children:["To track user location, add ",(0,s.jsx)(n.code,{children:"android.permission.ACCESS_FINE_LOCATION"})," and/or ",(0,s.jsx)(n.code,{children:"android.permission.ACCESS_COARSE_LOCATION"})," to your ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"}),". If you target Android M, you need to ",(0,s.jsx)(n.a,{href:"http://developer.android.com/training/permissions/requesting.html",children:"request permissions at runtime"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Depending on the available permissions the SDK will behave as follows:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"no permission \u2192 no location tracking."}),"\n",(0,s.jsx)(n.li,{children:"ACCESS_FINE_LOCATION \u2192 the SDK will track locations passively received when other applications or services request them using PASSIVE_PROVIDER."}),"\n",(0,s.jsx)(n.li,{children:"ACCESS_COARSE_LOCATION \u2192 the SDK will track location based on nearby of cell tower and WIFI access points using NETWORK_PROVIDER."}),"\n",(0,s.jsx)(n.li,{children:"ACCESS_COARSE_LOCATION & ACCESS_FINE_LOCATION \u2192 the SDK will track location based on the passive location provider. If the passive location is not available or older than 1 day, then check cell tower and WIFI information."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Location tracking is enabled by default, to disable it use ",(0,s.jsx)(n.code,{children:"AnalyticsManager.INSTANCE.enableLocation(false)"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"q-what-are-the-policy-requirements-for-google-advertising-id",children:"Q: What are the policy requirements for Google Advertising Id?"}),"\n",(0,s.jsxs)(n.p,{children:["Check Google's ",(0,s.jsx)(n.a,{href:"https://support.google.com/googleplay/android-developer/answer/6048248?hl=en&ref_topic=2364761",children:"support page"})]}),"\n",(0,s.jsx)(n.h3,{id:"q-is-there-any-situation-where-pooled-requests-are-lost",children:"Q: Is there any situation where pooled requests are lost?"}),"\n",(0,s.jsx)(n.p,{children:"To our knowledge, there is no normal situation where pooled events will be lost. Events are persisted in a database until they are successfully sent. The max size of the DB is 5000 records, so the only situation we can think of where events would be lost is if the device has lost internet connectivity for a long period of time, and then new events will start getting dropped."}),"\n",(0,s.jsxs)(n.h3,{id:"q-how-to-fix-missing-userid-field-in-some-event-data-sent-to-rat",children:["Q: How to fix missing ",(0,s.jsx)(n.code,{children:"userId"})," field in some event data sent to RAT."]}),"\n",(0,s.jsx)(n.p,{children:"It is possible that the Analytics SDK was only added to the application on a later version.\nThere is a case that user was already logged-in before updating to the version with Analytics SDK. The encrypted easy ID will no longer be broadcasted again by the User SDK unless the user re-login."}),"\n",(0,s.jsxs)(n.p,{children:["To fix this, app can set the ",(0,s.jsx)(n.code,{children:"userId"})," manually using the ",(0,s.jsx)(n.code,{children:"setUserId"})," API. See ",(0,s.jsx)(n.a,{href:"./android-manual-userid",children:"manual setting of user ID"})," for details."]}),"\n",(0,s.jsx)(n.h2,{id:"documentation-and-useful-links",children:"Documentation and Useful Links"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/rakutenanalytics/android-analytics",children:"SDK Source Code"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://confluence.rakuten-it.com/confluence/display/RAT/RAT+Home",children:"RAT Home Page"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://discourse.tech.rakuten-it.com/c/guilds/mobile-dev/",children:"Mobile Development in Discourse"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If you have any questions, you can contact us via ",(0,s.jsx)(n.a,{href:"https://confluence.rakuten-it.com/confluence/pages/viewpage.action?pageId=3701045924",children:"support page"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);