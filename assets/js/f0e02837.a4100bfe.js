"use strict";(self.webpackChunkanalytics_sdk_extensions=self.webpackChunkanalytics_sdk_extensions||[]).push([[5138],{4763:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"sdks/analytics-sdks/ios/advanced-usage/ios-analytics-duplicate-events","title":"Duplicate Events for Multiple Accounts","description":"Duplicate events across multiple RAT Accounts","source":"@site/docs/sdks/analytics-sdks/ios/advanced-usage/duplicate-events.md","sourceDirName":"sdks/analytics-sdks/ios/advanced-usage","slug":"/analytics-sdk/ios/ios-duplicate-events","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-duplicate-events","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"id":"ios-analytics-duplicate-events","slug":"/analytics-sdk/ios/ios-duplicate-events","title":"Duplicate Events for Multiple Accounts","added_version":"8.3.0","updated_version":"8.3.0","changelog":"./ios-changelog"},"sidebar":"docSidebar","previous":{"title":"Automatic Tracking","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-automatic-tracking"},"next":{"title":"Error Handling","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-error-handling"}}');var s=t(4848),c=t(8453);const a={sidebar_position:5,id:"ios-analytics-duplicate-events",slug:"/analytics-sdk/ios/ios-duplicate-events",title:"Duplicate Events for Multiple Accounts",added_version:"8.3.0",updated_version:"8.3.0",changelog:"./ios-changelog"},d=void 0,o={},l=[{value:"Duplicate events across multiple RAT Accounts",id:"duplicate-events-across-multiple-rat-accounts",level:2},{value:"Build-time config",id:"build-time-config",level:3},{value:"Runtime config",id:"runtime-config",level:3}];function r(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"duplicate-events-across-multiple-rat-accounts",children:"Duplicate events across multiple RAT Accounts"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"RAnalyticsRATTracker"})," can be configured to mirror events to multiple RAT accounts. Once configured, the SDK will automatically duplicate any events destined for the original accountId and applicationId defined in the ",(0,s.jsx)(n.code,{children:"Info.plist"})," to all added duplicate accounts."]}),"\n",(0,s.jsx)(n.h3,{id:"build-time-config",children:"Build-time config"}),"\n",(0,s.jsxs)(n.p,{children:["Add ",(0,s.jsx)(n.code,{children:"RAnalyticsConfiguration.plist"})," to your Xcode project. Within this ",(0,s.jsx)(n.code,{children:"plist"})," file, add an array and for each account, create a dict with ",(0,s.jsx)(n.code,{children:"RATAccountIdentifier"})," and ",(0,s.jsx)(n.code,{children:"RATAppIdentifier"})," keys and an optional ",(0,s.jsx)(n.code,{children:"RATNonDuplicatedEventsList"})," keyed array to disable tracking on specific events."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n<dict>\n    <key>RATDuplicateAccounts</key>\n    <array>\n        <dict>\n        <key>RATAccountIdentifier</key>\n        <integer>199</integer>\n        <key>RATAppIdentifier</key>\n        <integer>2</integer>\n        </dict>\n        <dict>\n        <key>RATAccountIdentifier</key>\n        <integer>200</integer>\n        <key>RATAppIdentifier</key>\n        <integer>1</integer>\n        <key>RATNonDuplicatedEventsList</key>\n        <array>\n            <string>_rem_init_launch</string>\n            <string>_rem_launch</string>\n        </array>\n    </dict>\n    </array>\n</dict>\n</plist>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"runtime-config",children:"Runtime config"}),"\n",(0,s.jsxs)(n.p,{children:["User can also add secondary accounts at runtime. Custom events will be mirrored to accounts declared at runtime. Ignores the build-time ",(0,s.jsx)(n.code,{children:"RATNonDuplicatedEventsList"})," key when set."]}),"\n",(0,s.jsx)(n.p,{children:"\u26a0\ufe0f Won't duplicate an event if that event on the main account is disabled."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:"RAnalyticsRATTracker.shared().addDuplicateAccount(accountId: myRATACC2, applicationId: myRATAID2)\nRAnalyticsRATTracker.shared().addDuplicateAccount(accountId: myRATACC3, applicationId: myRATAID3)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Disabling an event at runtime:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-swift",children:'RAnalyticsRATTracker.shared().shouldDuplicateRATEventHandler = { eventName, duplicateAccountId\n    return eventName != "_rem_end_session" && duplicateAccountId == 999\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var i=t(6540);const s={},c=i.createContext(s);function a(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);