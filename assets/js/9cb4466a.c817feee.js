"use strict";(self.webpackChunkanalytics_sdk_extensions=self.webpackChunkanalytics_sdk_extensions||[]).push([[236],{6096:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"sdks/analytics-sdks/ios/advanced-usage/ios-analytics-custom-tracker","title":"Custom Tracker","description":"Creating a custom tracker","source":"@site/docs/sdks/analytics-sdks/ios/advanced-usage/custom-tracker.md","sourceDirName":"sdks/analytics-sdks/ios/advanced-usage","slug":"/analytics-sdk/ios/ios-custom-tracker","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-custom-tracker","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"id":"ios-analytics-custom-tracker","slug":"/analytics-sdk/ios/ios-custom-tracker","title":"Custom Tracker","added_version":"2.7.0","updated_version":"7.0.0","changelog":"./ios-changelog"},"sidebar":"docSidebar","previous":{"title":"App Extensions","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-app-extensions"},"next":{"title":"Rp Cookie","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-rp-cookie"}}');var s=n(4848),r=n(8453);const c={sidebar_position:11,id:"ios-analytics-custom-tracker",slug:"/analytics-sdk/ios/ios-custom-tracker",title:"Custom Tracker",added_version:"2.7.0",updated_version:"7.0.0",changelog:"./ios-changelog"},i=void 0,o={},d=[{value:"Creating a custom tracker",id:"creating-a-custom-tracker",level:2}];function l(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"creating-a-custom-tracker",children:"Creating a custom tracker"}),"\n",(0,s.jsx)(t.p,{children:"Custom trackers can be added to the manager."}),"\n",(0,s.jsxs)(t.p,{children:["Create a class and implement the ",(0,s.jsx)(t.code,{children:"AnalyticsTracker"})," protocol. Its ",(0,s.jsx)(t.code,{children:"process(event:state:)"})," method will receive an event with a name and parameters, and a state with attributes automatically generated by the SDK."]}),"\n",(0,s.jsx)(t.p,{children:"The custom tracker in the code sample below only prints a few diagnostic messages. A real custom tracker would upload data to a server."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",children:'public class CustomTracker: NSObject, AnalyticsTracker {\n    public static let MyEventName = "customtracker.myeventname"\n    public func process(event: AnalyticsManager.Event, state: AnalyticsManager.State) -> Bool {\n        switch event.name {\n        case AnalyticsManager.Event.Name.initialLaunch:\n            print("I\'ve just been launched!")\n            return true\n        case AnalyticsManager.Event.Name.login:\n            print("User with tracking id \'\\(state.userid)\' just logged in!")\n            return true\n        case MyEventName:\n            print("Received my event!")\n            return true\n        // ...\n        }\n\n        // Unknown event\n        return false\n    }\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The custom tracker can then be added to the ",(0,s.jsx)(t.code,{children:"RAnalyticsManager"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",children:"// Add CustomTracker to the manager\nRAnalyticsManager.shared().add(CustomTracker())\n\n// Tracking events can now be sent to the custom tracker\nAnalyticsManager.Event(name: CustomTrackerMyEventName, parameters: nil).track()\n"})})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>i});var a=n(6540);const s={},r=a.createContext(s);function c(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);