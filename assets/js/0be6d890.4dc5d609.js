"use strict";(self.webpackChunkanalytics_sdk_extensions=self.webpackChunkanalytics_sdk_extensions||[]).push([[8951],{847:(i,e,n)=>{n.r(e),n.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"sdks/analytics-sdks/ios/advanced-usage/ios-analytics-event-triggers","title":"Event Triggers","description":"Event triggers","source":"@site/docs/sdks/analytics-sdks/ios/advanced-usage/event-triggers.md","sourceDirName":"sdks/analytics-sdks/ios/advanced-usage","slug":"/analytics-sdk/ios/ios-event-triggers","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-event-triggers","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":17,"frontMatter":{"sidebar_position":17,"id":"ios-analytics-event-triggers","slug":"/analytics-sdk/ios/ios-event-triggers","title":"Event Triggers","added_version":"2.7.0","updated_version":"9.5.0","changelog":"./ios-changelog"},"sidebar":"docSidebar","previous":{"title":"Internal JSON Serialization","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-internal-json"},"next":{"title":"Frequently Asked Questions","permalink":"/rakuten-analytics-public-docs/docs/analytics-sdk/ios/ios-faq"}}');var s=n(4848),o=n(8453);const c={sidebar_position:17,id:"ios-analytics-event-triggers",slug:"/analytics-sdk/ios/ios-event-triggers",title:"Event Triggers",added_version:"2.7.0",updated_version:"9.5.0",changelog:"./ios-changelog"},l=void 0,a={},d=[{value:"Event triggers",id:"event-triggers",level:2},{value:"UIApplication NSNotification",id:"uiapplication-nsnotification",level:3},{value:"UIApplication.didFinishLaunchingNotification",id:"uiapplicationdidfinishlaunchingnotification",level:4},{value:"UIApplication.willEnterForegroundNotification",id:"uiapplicationwillenterforegroundnotification",level:4},{value:"UIApplication.didBecomeActiveNotification",id:"uiapplicationdidbecomeactivenotification",level:4},{value:"UIApplication.didEnterBackgroundNotification",id:"uiapplicationdidenterbackgroundnotification",level:4},{value:"viewDidAppear",id:"viewdidappear",level:3},{value:"APNS Remote Notifications",id:"apns-remote-notifications",level:3},{value:"PNP Events",id:"pnp-events",level:3},{value:"SDKs NSNotification",id:"sdks-nsnotification",level:3},{value:"IDSDK notifications",id:"idsdk-notifications",level:4},{value:"Custom notification",id:"custom-notification",level:4}];function r(i){const e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,o.R)(),...i.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"event-triggers",children:"Event triggers"}),"\n",(0,s.jsx)(e.h3,{id:"uiapplication-nsnotification",children:"UIApplication NSNotification"}),"\n",(0,s.jsx)(e.h4,{id:"uiapplicationdidfinishlaunchingnotification",children:"UIApplication.didFinishLaunchingNotification"}),"\n",(0,s.jsxs)(e.p,{children:["A notification that posts immediately after the app finishes launching.\n",(0,s.jsx)(e.a,{href:"https://developer.apple.com/documentation/uikit/uiapplication/1622971-didfinishlaunchingnotification",children:"https://developer.apple.com/documentation/uikit/uiapplication/1622971-didfinishlaunchingnotification"})]}),"\n",(0,s.jsx)(e.p,{children:"When UIApplication.didFinishLaunchingNotification is received, these events are sent under certain conditions:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_init_launch"})," is sent when the app is installed for the first time"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_install"})," is sent when the app is launched for the second time"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_install"})," and ",(0,s.jsx)(e.code,{children:"_rem_update"})," are sent when the app has been updated to a new version"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_launch"})," is sent in any cases"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_credential_strategies"})," is sent in any cases with this boolean parameter:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"key: strategies.password-manager"}),"\n",(0,s.jsx)(e.li,{children:"value: true or false"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"uiapplicationwillenterforegroundnotification",children:"UIApplication.willEnterForegroundNotification"}),"\n",(0,s.jsxs)(e.p,{children:["A notification that posts shortly before an app leaves the background state on its way to becoming the active app.\n",(0,s.jsx)(e.a,{href:"https://developer.apple.com/documentation/uikit/uiapplication/1622944-willenterforegroundnotification",children:"https://developer.apple.com/documentation/uikit/uiapplication/1622944-willenterforegroundnotification"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"_rem_launch"})," is sent in any cases"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"uiapplicationdidbecomeactivenotification",children:"UIApplication.didBecomeActiveNotification"}),"\n",(0,s.jsxs)(e.p,{children:["A notification that posts when the app becomes active.\n",(0,s.jsx)(e.a,{href:"https://developer.apple.com/documentation/uikit/uiapplication/1622953-didbecomeactivenotification",children:"https://developer.apple.com/documentation/uikit/uiapplication/1622953-didbecomeactivenotification"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"_rem_push_notify"})," is sent only if:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"the app was previously opened from a push notification"}),"\n",(0,s.jsx)(e.li,{children:"UNUserNotificationCenter.current().delegate is set"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"uiapplicationdidenterbackgroundnotification",children:"UIApplication.didEnterBackgroundNotification"}),"\n",(0,s.jsxs)(e.p,{children:["A notification that posts when the app enters the background.\n",(0,s.jsx)(e.a,{href:"https://developer.apple.com/documentation/uikit/uiapplication/1623071-didenterbackgroundnotification",children:"https://developer.apple.com/documentation/uikit/uiapplication/1623071-didenterbackgroundnotification"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"_rem_end_session"})," is sent in any cases"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"viewdidappear",children:"viewDidAppear"}),"\n",(0,s.jsxs)(e.p,{children:["Notifies the view controller that its view was added to a view hierarchy.\n",(0,s.jsx)(e.a,{href:"https://developer.apple.com/documentation/uikit/uiviewcontroller/1621423-viewdidappear",children:"https://developer.apple.com/documentation/uikit/uiviewcontroller/1621423-viewdidappear"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"pv (page visit) is sent in any cases when a view controller did appear (viewDidAppear)"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"apns-remote-notifications",children:"APNS Remote Notifications"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_push_received"})," is sent when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"a push notification is received and intercepted by the Notification Service Extension"}),"\n",(0,s.jsxs)(e.li,{children:["this Notification Service Extension's method is called:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"didReceive(_ request: UNNotificationRequest, withContentHandler contentHandler: @escaping (UNNotificationContent) -> Void)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_push_notify"})," is sent when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"the application is opened from a push notification"}),"\n",(0,s.jsxs)(e.li,{children:["one of these AppDelegate's methods is called:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"application:didReceiveRemoteNotification:"}),"\n",(0,s.jsx)(e.li,{children:"application:didReceiveRemoteNotification:fetchCompletionHandler:"}),"\n",(0,s.jsxs)(e.li,{children:["userNotificationCenter:didReceiveNotificationResponse",":withCompletionHandler"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"pnp-events",children:"PNP Events"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_push_auto_register"})," is sent from RPushPNP SDK when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"the app becomes active"}),"\n",(0,s.jsx)(e.li,{children:"the user is not registered to PNP"}),"\n",(0,s.jsx)(e.li,{children:"the registration requests optimization is enabled"}),"\n",(0,s.jsx)(e.li,{children:"the push notifications status is authorized"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_push_auto_unregister"})," is sent from RPushPNP SDK when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"the app becomes active"}),"\n",(0,s.jsx)(e.li,{children:"the user is registered to PNP"}),"\n",(0,s.jsx)(e.li,{children:"the registration requests optimization is enabled"}),"\n",(0,s.jsx)(e.li,{children:"the push notifications status is denied"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"sdks-nsnotification",children:"SDKs NSNotification"}),"\n",(0,s.jsx)(e.h4,{id:"idsdk-notifications",children:"IDSDK notifications"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_login"})," is sent when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"IDSDK login succeeds"}),"\n",(0,s.jsx)(e.li,{children:"this NSNotification is received: com.rakuten.esd.sdk.events.login.idtoken_memberid"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_login_failure"})," is sent when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"IDSDK login fails"}),"\n",(0,s.jsx)(e.li,{children:"this NSNotification is received: com.rakuten.esd.sdk.events.login.failure.idtoken_memberid"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_rem_logout"})," is sent when:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"IDSDK logout succeeds"}),"\n",(0,s.jsx)(e.li,{children:"this NSNotification is received: com.rakuten.esd.sdk.events.logout.idtoken_memberid"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"custom-notification",children:"Custom notification"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"_analytics_custom"})," is sent when:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"this NSNotification is received: com.rakuten.esd.sdk.events.custom"}),"\n"]}),"\n"]}),"\n"]})]})}function h(i={}){const{wrapper:e}={...(0,o.R)(),...i.components};return e?(0,s.jsx)(e,{...i,children:(0,s.jsx)(r,{...i})}):r(i)}},8453:(i,e,n)=>{n.d(e,{R:()=>c,x:()=>l});var t=n(6540);const s={},o=t.createContext(s);function c(i){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof i?i(e):{...e,...i}}),[e,i])}function l(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(s):i.components||s:c(i.components),t.createElement(o.Provider,{value:e},i.children)}}}]);